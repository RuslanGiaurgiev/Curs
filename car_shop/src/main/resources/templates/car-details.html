<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${car.brand + ' ' + car.model}">Car Details - CarShop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="/">CarShop</a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" href="/cars">‚Üê –ù–∞–∑–∞–¥ –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º</a>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <div th:if="${car}" class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h3 th:text="${car.brand + ' ' + car.model}"></h3>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <strong>–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:</strong> [[${car.year}]]
                    </div>
                    <div class="mb-3">
                        <strong>–¶–≤–µ—Ç:</strong> [[${car.color}]]
                    </div>
                    <div class="mb-3">
                        <strong>–¶–µ–Ω–∞:</strong>
                        <span class="text-success fw-bold">
                            [[${#numbers.formatDecimal(car.price, 0, 'COMMA', 2, 'POINT')}]] —Ä—É–±.
                        </span>
                    </div>
                    <div class="mb-3">
                        <strong>–°—Ç–∞—Ç—É—Å:</strong>
                        <span th:if="${car.available}" class="badge bg-success">–î–æ—Å—Ç—É–ø–µ–Ω</span>
                        <span th:unless="${car.available}" class="badge bg-danger">–ü—Ä–æ–¥–∞–Ω–æ</span>
                    </div>

                    <div th:if="${car.available and canPurchase}" class="mt-4">
                        <a th:href="@{'/purchases/buy/' + ${car.id}}" class="btn btn-success btn-lg w-100">
                            üöó –ö—É–ø–∏—Ç—å —ç—Ç–æ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å
                        </a>
                    </div>

                    <div th:if="${car.available and !canPurchase}" class="alert alert-warning mt-3">
                        <strong>–í–Ω–∏–º–∞–Ω–∏–µ!</strong> –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å —ç—Ç–æ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å.
                    </div>

                    <div th:unless="${car.available}" class="alert alert-info mt-3">
                        <strong>–ê–≤—Ç–æ–º–æ–±–∏–ª—å –ø—Ä–æ–¥–∞–Ω.</strong> –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h5>
                </div>
                <div class="card-body">
                    <div class="text-center mb-4">
                        <div style="font-size: 5rem;">üöó</div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <p><strong>–ú–∞—Ä–∫–∞:</strong></p>
                            <p><strong>–ú–æ–¥–µ–ª—å:</strong></p>
                            <p><strong>–ì–æ–¥:</strong></p>
                            <p><strong>–¶–≤–µ—Ç:</strong></p>
                            <p><strong>–¶–µ–Ω–∞:</strong></p>
                        </div>
                        <div class="col-6">
                            <p>[[${car.brand}]]</p>
                            <p>[[${car.model}]]</p>
                            <p>[[${car.year}]]</p>
                            <p>[[${car.color}]]</p>
                            <p class="text-success fw-bold">[[${car.price}]] —Ä—É–±.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:unless="${car}" class="alert alert-danger">
        <h4>–ê–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω</h4>
        <p>–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –±—ã–ª —É–¥–∞–ª–µ–Ω.</p>
        <a th:href="@{/cars}" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º</a>
    </div>
</div>
</body>
</html>